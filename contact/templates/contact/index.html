{% extends "base.html" %}

{% block index %}
    {% if page_obj %}
        <div class="main-content">
            <div class="index-content">
                <table class="table-content">
                    <caption class="table-caption">
                        <div>
                            <h3 class="title-white">Contatos 1</h3>
                            {% include "partials/search-box.html" %}
                        </div>
                    </caption>
                    <tr class="table-row table-row-header">
                        <th class="table-header">ID</th>
                        <th class="table-header">Nome</th>
                        <th class="table-header">Sobrenome</th>
                        <th class="table-header">Telefone</th>
                    </tr>
                    {% for contato in page_obj %}
                        <tr class="table-row">
                            
                            <td class="table-cel"><a href="{% url "contact:single-contact" contato.id %}" class="table-link">{{contato.id}}</a></th>
                            <td class="table-cel">{{contato.name}}</th>
                            <td class="table-cel">{{contato.last_name}}</th>
                            <td class="table-cel">{{contato.number}}</th>
                        </tr>
                    {% endfor %}
                    
                </table>

                <div class="pagination">
                    <span class="step-links">
                        {% if page_obj.has_previous %}
                            <a href="?page=1&q={{q}}">&laquo; Primeiro</a>
                            <a href="?page={{page_obj.previous_page_number}}&q={{q}}">Anterior</a>
                        {% endif %}

                        <span class="current">
                            Página {{page_obj.number}} de {{page_obj.paginator.num_pages}}.
                        </span>

                        {% if page_obj.has_next %}
                            <a href="?page={{page_obj.next_page_number}}&q={{q}}">Próximo</a>
                            <a href="?page={{page_obj.paginator.num_pages}}&q={{q}}">Último &raquo;</a>
                        {% endif %}
                    </span>
                </div>
            </div>
        </div>
    {% else %}
        <div class="main-content">
            <div class="index-content">
                <table class="table-content">
                    <caption class="table-caption">
                        <div>
                            <h3 class="title-white">Contatos</h3>
                            {% include "partials/search-box.html" %}
                        </div>
                    </caption>
                    <tr class="table-row">
                        <td class="table-cel">
                            <span style="font-weight: bold; font-size: 1.2rem;">
                                Contato não encontrado
                            </span>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    {% endif %}
    
{% endblock index %}

